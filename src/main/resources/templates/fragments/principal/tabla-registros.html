 <!-- Card: Tabla de registros -->
  <div th:fragment="tabla-registros" class="col-12 col-lg-6">
        <div class="card shadow border-0">
            <div class="card-body p-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h5 class="card-title d-flex align-items-center mb-0">
                        <i class="bi bi-list-ul me-2 text-muted"></i> Historial de IMC
                    </h5>
                    <div>
                        <label for="pageSize" class="me-2 mb-0 small">Mostrar:</label>
                        <select id="pageSize" class="form-select form-select-sm d-inline w-auto">
                            <option value="10" selected>10</option>
                            <option value="15">15</option>
                        </select>
                    </div>
                </div>

                <div class="table-responsive">
                    <table id="tabla-imc" class="table table-striped align-middle">
                        <thead class="table-dark">
                            <tr>
                                <th>Nombre</th>
                                <th>Peso (kg)</th>
                                <th>Altura (m)</th>
                                <th>IMC</th>
                                <th>Categoría</th>
                                <th>Fecha</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="registro : ${registros}">
                                <td th:text="${registro.userName}">Nombre</td>
                                <td th:text="${registro.peso}">0</td>
                                <td th:text="${registro.altura}">0.0</td>
                                <td th:text="${registro.resultado}">0.0</td>
                                <td th:text="${registro.clasificacion}">Clasificación</td>
                              
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="d-flex justify-content-between align-items-center mt-3">
                    <span id="pagina-info" class="small">Página 1</span>
                    <div>
                        <button id="prevPage" class="btn btn-outline-secondary btn-sm me-2">← Anterior</button>
                        <button id="nextPage" class="btn btn-outline-secondary btn-sm">Siguiente →</button>
                    </div>
                </div>
            </div>
        </div>
 

    <!-- Script de paginación -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const table = document.getElementById("tabla-imc").getElementsByTagName("tbody")[0];
            const rows = table.getElementsByTagName("tr");
            const pageSizeSelect = document.getElementById("pageSize");
            const prevBtn = document.getElementById("prevPage");
            const nextBtn = document.getElementById("nextPage");
            const pageInfo = document.getElementById("pagina-info");

            let currentPage = 0;
            let pageSize = parseInt(pageSizeSelect.value);

            function showPage(page) {
                const start = page * pageSize;
                const end = start + pageSize;

                for (let i = 0; i < rows.length; i++) {
                    rows[i].style.display = (i >= start && i < end) ? "" : "none";
                }

                prevBtn.disabled = (page === 0);
                nextBtn.disabled = (end >= rows.length);
                pageInfo.textContent = `Página ${page + 1} de ${Math.ceil(rows.length / pageSize)}`;
            }

            pageSizeSelect.addEventListener("change", function () {
                pageSize = parseInt(this.value);
                currentPage = 0;
                showPage(currentPage);
            });

            prevBtn.addEventListener("click", function () {
                if (currentPage > 0) {
                    currentPage--;
                    showPage(currentPage);
                }
            });

            nextBtn.addEventListener("click", function () {
                if ((currentPage + 1) * pageSize < rows.length) {
                    currentPage++;
                    showPage(currentPage);
                }
            });

            showPage(currentPage); // Inicializar
        });
    </script>
</div>